<div ng-cloak>
<div ng-show="!script.form.$valid" class="alert alert-danger" role="alert">{{'plugin.script.err' | translate}}</div>
<md-toolbar>
  <div class="md-toolbar-tools" layout-align="center">
    <h1><br>{{script.name}}<md-tooltip>{{script.type}}#{{script.id}}</md-tooltip></h1>
  </div>
  <md-fab-actions class="md-toolbar-tools">
  	<jarvis-default-menu-bar close="plugins" ng-model="script"></jarvis-default-menu-bar>
	<md-button aria-label="menu" class="md-icon-button" ng-click="execute(script)"><md-tooltip>{{'plugin.execute'|translate}}</md-tooltip><md-icon md-font-icon="material-icons md-16">play_arrow</md-icon></md-button>
	<md-button aria-label="menu" class="md-icon-button" ng-click="clear()"><md-tooltip>{{'plugin.clearargs'|translate}}</md-tooltip><md-icon md-font-icon="material-icons md-16">loop</md-icon></md-button>
	<jarvis-pick-element ctrl="pickCommandDialogCtrl" icon="playlist_add" callback="links.commands.add" tooltips="pick.elt.cmd"></jarvis-pick-element>
	<jarvis-pick-element ctrl="pickIotDialogCtrl" icon="local_offer" callback="setOwner" tooltips="pick.elt.owner"></jarvis-pick-element>
  </md-fab-actions>
</md-toolbar>
<div layout="column" ng-init="load()" ng-cloak>
	<md-tabs md-dynamic-height md-border-bottom>
		<md-tab label="{{'plugin.general' | translate}}" md-active="activeTab==1">
			<md-content layout-padding>
				<jarvis-plugin-common></jarvis-plugin-common>
			</md-content>
		</md-tab>
		<md-tab label="{{'plugin.script' | translate}}" md-active="activeTab==2">
			<md-content>
				<jarvis-plugin-script></jarvis-plugin-script>
			</md-content>
		</md-tab>
		<md-tab label="{{'plugin.render' | translate}}" md-active="activeTab==3">
			<md-content>
				<jarvis-plugin-render></jarvis-plugin-render>
			</md-content>
		</md-tab>
	</md-tabs>
</div>
</div>